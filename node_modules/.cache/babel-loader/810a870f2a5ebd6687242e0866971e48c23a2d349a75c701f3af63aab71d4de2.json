{"ast":null,"code":"import React,{createContext,useState,useContext,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const MaintenanceContext=/*#__PURE__*/createContext();export const useMaintenance=()=>useContext(MaintenanceContext);export const MaintenanceProvider=_ref=>{let{children}=_ref;const getInitialRequests=()=>{const storedRequests=localStorage.getItem('maintenanceRequests');return storedRequests?JSON.parse(storedRequests):[{id:1,issue:'Leaking pipe',date:'2024-09-10',status:'Pending'},{id:2,issue:'Broken door lock',date:'2024-09-11',status:'In Progress'},{id:3,issue:'Malfunctioning air conditioner',date:'2024-09-12',status:'Completed'}];};const[requests,setRequests]=useState(getInitialRequests);useEffect(()=>{localStorage.setItem('maintenanceRequests',JSON.stringify(requests));},[requests]);const updateStatus=(id,newStatus)=>{setRequests(prevRequests=>prevRequests.map(request=>request.id===id?{...request,status:newStatus}:request));};const addRequest=newRequest=>{const newReq={id:requests.length+1,issue:newRequest,date:new Date().toLocaleDateString(),status:'Pending'};setRequests([...requests,newReq]);};return/*#__PURE__*/_jsx(MaintenanceContext.Provider,{value:{requests,updateStatus,addRequest},children:children});};","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","jsx","_jsx","MaintenanceContext","useMaintenance","MaintenanceProvider","_ref","children","getInitialRequests","storedRequests","localStorage","getItem","JSON","parse","id","issue","date","status","requests","setRequests","setItem","stringify","updateStatus","newStatus","prevRequests","map","request","addRequest","newRequest","newReq","length","Date","toLocaleDateString","Provider","value"],"sources":["/workspaces/ParkerPip/src/context/MaintenanceContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect } from 'react';\n\n\nconst MaintenanceContext = createContext();\n\n\nexport const useMaintenance = () => useContext(MaintenanceContext);\n\n\nexport const MaintenanceProvider = ({ children }) => {\n\n  const getInitialRequests = () => {\n    const storedRequests = localStorage.getItem('maintenanceRequests');\n    return storedRequests ? JSON.parse(storedRequests) : [\n      { id: 1, issue: 'Leaking pipe', date: '2024-09-10', status: 'Pending' },\n      { id: 2, issue: 'Broken door lock', date: '2024-09-11', status: 'In Progress' },\n      { id: 3, issue: 'Malfunctioning air conditioner', date: '2024-09-12', status: 'Completed' }\n    ];\n  };\n\n  const [requests, setRequests] = useState(getInitialRequests);\n\n  \n  useEffect(() => {\n    localStorage.setItem('maintenanceRequests', JSON.stringify(requests));\n  }, [requests]);\n\n  const updateStatus = (id, newStatus) => {\n    setRequests(prevRequests =>\n      prevRequests.map(request => \n        request.id === id ? { ...request, status: newStatus } : request\n      )\n    );\n  };\n\n  const addRequest = (newRequest) => {\n    const newReq = {\n      id: requests.length + 1,\n      issue: newRequest,\n      date: new Date().toLocaleDateString(),\n      status: 'Pending',\n    };\n    setRequests([...requests, newReq]);\n  };\n\n  return (\n    <MaintenanceContext.Provider value={{ requests, updateStatus, addRequest }}>\n      {children}\n    </MaintenanceContext.Provider>\n  );\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAG9E,KAAM,CAAAC,kBAAkB,cAAGN,aAAa,CAAC,CAAC,CAG1C,MAAO,MAAM,CAAAO,cAAc,CAAGA,CAAA,GAAML,UAAU,CAACI,kBAAkB,CAAC,CAGlE,MAAO,MAAM,CAAAE,mBAAmB,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAE9C,KAAM,CAAAE,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAAAC,cAAc,CAAGC,YAAY,CAACC,OAAO,CAAC,qBAAqB,CAAC,CAClE,MAAO,CAAAF,cAAc,CAAGG,IAAI,CAACC,KAAK,CAACJ,cAAc,CAAC,CAAG,CACnD,CAAEK,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,cAAc,CAAEC,IAAI,CAAE,YAAY,CAAEC,MAAM,CAAE,SAAU,CAAC,CACvE,CAAEH,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,kBAAkB,CAAEC,IAAI,CAAE,YAAY,CAAEC,MAAM,CAAE,aAAc,CAAC,CAC/E,CAAEH,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,gCAAgC,CAAEC,IAAI,CAAE,YAAY,CAAEC,MAAM,CAAE,WAAY,CAAC,CAC5F,CACH,CAAC,CAED,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGrB,QAAQ,CAACU,kBAAkB,CAAC,CAG5DR,SAAS,CAAC,IAAM,CACdU,YAAY,CAACU,OAAO,CAAC,qBAAqB,CAAER,IAAI,CAACS,SAAS,CAACH,QAAQ,CAAC,CAAC,CACvE,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAI,YAAY,CAAGA,CAACR,EAAE,CAAES,SAAS,GAAK,CACtCJ,WAAW,CAACK,YAAY,EACtBA,YAAY,CAACC,GAAG,CAACC,OAAO,EACtBA,OAAO,CAACZ,EAAE,GAAKA,EAAE,CAAG,CAAE,GAAGY,OAAO,CAAET,MAAM,CAAEM,SAAU,CAAC,CAAGG,OAC1D,CACF,CAAC,CACH,CAAC,CAED,KAAM,CAAAC,UAAU,CAAIC,UAAU,EAAK,CACjC,KAAM,CAAAC,MAAM,CAAG,CACbf,EAAE,CAAEI,QAAQ,CAACY,MAAM,CAAG,CAAC,CACvBf,KAAK,CAAEa,UAAU,CACjBZ,IAAI,CAAE,GAAI,CAAAe,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,CAAC,CACrCf,MAAM,CAAE,SACV,CAAC,CACDE,WAAW,CAAC,CAAC,GAAGD,QAAQ,CAAEW,MAAM,CAAC,CAAC,CACpC,CAAC,CAED,mBACE3B,IAAA,CAACC,kBAAkB,CAAC8B,QAAQ,EAACC,KAAK,CAAE,CAAEhB,QAAQ,CAAEI,YAAY,CAAEK,UAAW,CAAE,CAAApB,QAAA,CACxEA,QAAQ,CACkB,CAAC,CAElC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}