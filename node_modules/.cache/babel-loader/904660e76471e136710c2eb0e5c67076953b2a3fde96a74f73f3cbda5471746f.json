{"ast":null,"code":"// src/context/PaymentContext.js\nimport React,{createContext,useState,useEffect}from'react';// 创建支付上下文\nimport{jsx as _jsx}from\"react/jsx-runtime\";export const PaymentContext=/*#__PURE__*/createContext();// 创建支付上下文提供者组件\nexport const PaymentProvider=_ref=>{let{children}=_ref;const[paymentHistory,setPaymentHistory]=useState([]);// 从 localStorage 加载历史记录\nuseEffect(()=>{const storedHistory=JSON.parse(localStorage.getItem('paymentHistory'))||[];setPaymentHistory(storedHistory);},[]);// 添加支付记录，同时保存到 localStorage\nconst addPaymentRecord=paymentRecord=>{const updatedHistory=[...paymentHistory,paymentRecord];setPaymentHistory(updatedHistory);localStorage.setItem('paymentHistory',JSON.stringify(updatedHistory));// 保存到 localStorage\n};return/*#__PURE__*/_jsx(PaymentContext.Provider,{value:{paymentHistory,addPaymentRecord},children:children});};","map":{"version":3,"names":["React","createContext","useState","useEffect","jsx","_jsx","PaymentContext","PaymentProvider","_ref","children","paymentHistory","setPaymentHistory","storedHistory","JSON","parse","localStorage","getItem","addPaymentRecord","paymentRecord","updatedHistory","setItem","stringify","Provider","value"],"sources":["/workspaces/ParkerPip/src/context/PaymentContext.js"],"sourcesContent":["// src/context/PaymentContext.js\nimport React, { createContext, useState, useEffect } from 'react';\n\n// 创建支付上下文\nexport const PaymentContext = createContext();\n\n// 创建支付上下文提供者组件\nexport const PaymentProvider = ({ children }) => {\n  const [paymentHistory, setPaymentHistory] = useState([]);\n\n  // 从 localStorage 加载历史记录\n  useEffect(() => {\n    const storedHistory = JSON.parse(localStorage.getItem('paymentHistory')) || [];\n    setPaymentHistory(storedHistory);\n  }, []);\n\n  // 添加支付记录，同时保存到 localStorage\n  const addPaymentRecord = (paymentRecord) => {\n    const updatedHistory = [...paymentHistory, paymentRecord];\n    setPaymentHistory(updatedHistory);\n    localStorage.setItem('paymentHistory', JSON.stringify(updatedHistory)); // 保存到 localStorage\n  };\n\n  return (\n    <PaymentContext.Provider value={{ paymentHistory, addPaymentRecord }}>\n      {children}\n    </PaymentContext.Provider>\n  );\n};\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAEjE;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBACA,MAAO,MAAM,CAAAC,cAAc,cAAGL,aAAa,CAAC,CAAC,CAE7C;AACA,MAAO,MAAM,CAAAM,eAAe,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC1C,KAAM,CAACE,cAAc,CAAEC,iBAAiB,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAExD;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAS,aAAa,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAAC,EAAI,EAAE,CAC9EL,iBAAiB,CAACC,aAAa,CAAC,CAClC,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAK,gBAAgB,CAAIC,aAAa,EAAK,CAC1C,KAAM,CAAAC,cAAc,CAAG,CAAC,GAAGT,cAAc,CAAEQ,aAAa,CAAC,CACzDP,iBAAiB,CAACQ,cAAc,CAAC,CACjCJ,YAAY,CAACK,OAAO,CAAC,gBAAgB,CAAEP,IAAI,CAACQ,SAAS,CAACF,cAAc,CAAC,CAAC,CAAE;AAC1E,CAAC,CAED,mBACEd,IAAA,CAACC,cAAc,CAACgB,QAAQ,EAACC,KAAK,CAAE,CAAEb,cAAc,CAAEO,gBAAiB,CAAE,CAAAR,QAAA,CAClEA,QAAQ,CACc,CAAC,CAE9B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}