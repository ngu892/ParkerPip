{"ast":null,"code":"import React,{useState}from'react';import'../styles/ParkingManagement.css';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ParkingManagement(){const[licensePlate,setLicensePlate]=useState('');const[isPaid,setIsPaid]=useState(false);const[availableSpaces,setAvailableSpaces]=useState(50);const[notification,setNotification]=useState('');const[parkedCars,setParkedCars]=useState({});const navigate=useNavigate();const handleLicensePlateChange=e=>{setLicensePlate(e.target.value);};const handleParking=()=>{if(licensePlate===''){setNotification('Please enter your license plate number.');return;}if(availableSpaces<=0){setNotification('No parking spaces available.');return;}if(parkedCars[licensePlate]){setNotification('Car is already parked.');return;}const startTime=new Date();setParkedCars({...parkedCars,[licensePlate]:{startTime}});setAvailableSpaces(availableSpaces-1);setNotification('Car parked successfully!');};const handleExit=()=>{if(!parkedCars[licensePlate]){setNotification('This car is not parked here.');return;}const exitTime=new Date();const startTime=parkedCars[licensePlate].startTime;const parkedDurationMinutes=Math.floor((exitTime-startTime)/60000);let cost=0;if(parkedDurationMinutes>30){const hours=Math.ceil((parkedDurationMinutes-30)/60);cost=Math.min(hours*5,30);}setAvailableSpaces(availableSpaces+1);const updatedParkedCars={...parkedCars};delete updatedParkedCars[licensePlate];setParkedCars(updatedParkedCars);setNotification(`Please pay $${cost}.`);if(cost>0){navigate('/pay',{state:{cost,licensePlate}});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"parking-management\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"headerContainer\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Parking Management\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Manage your parking space easily\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"contentContainer\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Enter License Plate Information\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:licensePlate,placeholder:\"Enter License Plate\",onChange:handleLicensePlateChange}),/*#__PURE__*/_jsx(\"button\",{onClick:handleParking,children:\"Park\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExit,children:\"Exit\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Available Spaces: \",availableSpaces]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"notificationContainer\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Important Notifications\"}),/*#__PURE__*/_jsx(\"p\",{children:notification})]})]});}export default ParkingManagement;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","ParkingManagement","licensePlate","setLicensePlate","isPaid","setIsPaid","availableSpaces","setAvailableSpaces","notification","setNotification","parkedCars","setParkedCars","navigate","handleLicensePlateChange","e","target","value","handleParking","startTime","Date","handleExit","exitTime","parkedDurationMinutes","Math","floor","cost","hours","ceil","min","updatedParkedCars","state","className","children","type","placeholder","onChange","onClick"],"sources":["/workspaces/ParkerPip/src/pages/ParkingManagement.js"],"sourcesContent":["import React, { useState } from 'react';\nimport '../styles/ParkingManagement.css';\nimport { useNavigate } from 'react-router-dom';\n\nfunction ParkingManagement() {\n  const [licensePlate, setLicensePlate] = useState('');\n  const [isPaid, setIsPaid] = useState(false);\n  const [availableSpaces, setAvailableSpaces] = useState(50);\n  const [notification, setNotification] = useState('');\n  const [parkedCars, setParkedCars] = useState({});\n  \n  const navigate = useNavigate();\n\n  const handleLicensePlateChange = (e) => {\n    setLicensePlate(e.target.value);\n  };\n\n  const handleParking = () => {\n    if (licensePlate === '') {\n      setNotification('Please enter your license plate number.');\n      return;\n    }\n\n    if (availableSpaces <= 0) {\n      setNotification('No parking spaces available.');\n      return;\n    }\n\n    if (parkedCars[licensePlate]) {\n      setNotification('Car is already parked.');\n      return;\n    }\n\n    const startTime = new Date();\n    setParkedCars({ ...parkedCars, [licensePlate]: { startTime } });\n    setAvailableSpaces(availableSpaces - 1);\n    setNotification('Car parked successfully!');\n  };\n\n  const handleExit = () => {\n    if (!parkedCars[licensePlate]) {\n      setNotification('This car is not parked here.');\n      return;\n    }\n\n    const exitTime = new Date();\n    const startTime = parkedCars[licensePlate].startTime;\n    const parkedDurationMinutes = Math.floor((exitTime - startTime) / 60000);\n\n    let cost = 0;\n    if (parkedDurationMinutes > 30) {\n      const hours = Math.ceil((parkedDurationMinutes - 30) / 60);\n      cost = Math.min(hours * 5, 30);\n    }\n\n    setAvailableSpaces(availableSpaces + 1);\n    const updatedParkedCars = { ...parkedCars };\n    delete updatedParkedCars[licensePlate];\n    setParkedCars(updatedParkedCars);\n\n    setNotification(`Please pay $${cost}.`);\n\n    if (cost > 0) {\n      navigate('/pay', { state: { cost, licensePlate } });\n    }\n  };\n\n  return (\n    <div className=\"parking-management\">\n      <div className=\"headerContainer\">\n        <h1>Parking Management</h1>\n        <p>Manage your parking space easily</p>\n      </div>\n\n      <div className=\"contentContainer\">\n        <h2>Enter License Plate Information</h2>\n        <input \n          type=\"text\" \n          value={licensePlate} \n          placeholder=\"Enter License Plate\"\n          onChange={handleLicensePlateChange}\n        />\n        <button onClick={handleParking}>Park</button>\n        <button onClick={handleExit}>Exit</button>\n\n        <h2>Available Spaces: {availableSpaces}</h2>\n      </div>\n\n      <div className=\"notificationContainer\">\n        <h2>Important Notifications</h2>\n        <p>{notification}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default ParkingManagement;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}